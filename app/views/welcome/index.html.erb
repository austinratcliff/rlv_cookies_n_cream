<section class='welcome-section d-flex flex-column justify-content-center align-items-center p-3' id='welcome'>
  <div class='welcome-div d-flex justify-content-center align-items-center' id='welcome-header-div'>
    <!-- Header üëá -->
    <%= content_tag :h1, "RLV Cookies 'n' Cream", id: 'welcome-header', class: 'm-0' %>
  </div>

  <div class='welcome-div d-flex justify-content-center align-items-center' id='welcome-art-div'>
    <!-- Michael's art üëá -->
    <%= image_tag 'welcome-art.png', id: 'welcome-art', class: 'img-fluid' %>
  </div>

  <div class='welcome-div d-flex justify-content-center align-items-center' id='welcome-scroll-buttons-div'>
    <!-- Scroll buttons üëá -->
    <%= link_to 'About', root_path(anchor: 'about'), class: 'welcome-scroll-button btn btn-lg btn-light mx-3 mt-3' %>
    <%= link_to 'Cookies', root_path(anchor: 'cookies'), class: 'welcome-scroll-button btn btn-lg btn-light mx-3 mt-3' %>
    <%= link_to 'Order', root_path(anchor: 'order'), class: 'welcome-scroll-button btn btn-lg btn-light mx-3 mt-3' %>
    <%= link_to 'Contact', root_path(anchor: 'contact'), class: 'welcome-scroll-button btn btn-lg btn-light mx-3 mt-3' %>
  </div>
</section>

<section class='welcome-section d-flex flex-column flex-md-row justify-content-center align-items-center' id='about'>
  <div class='welcome-div d-flex justify-content-center align-items-center' id='about-images-div'>
    <!-- Images of Lauren and family üëá -->
    <%= image_tag 'about-image.jpg', class: 'about-image img-fluid' %>
    <%= image_tag 'about-image2.jpg', class: 'about-image img-fluid' %>
    <%= image_tag 'about-image3.jpg', class: 'about-image img-fluid' %>
    <%= image_tag 'about-image4.jpg', class: 'about-image img-fluid' %>
    <%= image_tag 'about-image5.jpg', class: 'about-image img-fluid' %>
    <%= image_tag 'about-image6.jpg', class: 'about-image img-fluid' %>
    <%= image_tag 'about-image7.jpg', class: 'about-image img-fluid' %>
  </div>

  <div class='welcome-div d-flex justify-content-center align-items-center' id='about-bio-div'>
    <!-- Bio üëá -->
    <p id='about-bio' class='m-0'>
      <span style="font-family: 'Young Serif';">RLV COOKIES 'N' CREAM</span> was started by Lauren Vargas in Edmond, OK with a single goal ‚Äî to make people happy. From your child‚Äôs superhero-themed birthday party, to your work‚Äôs next big event, RLV is here to put a smile on everyone‚Äôs face one custom cookie at a time.<br><br>
      <i class="fas fa-quote-left"></i>
      I started making cookies on the side for fun because I've always loved to bake and be creative, and it allows me to spend more time with my daughter. My dream is to one day open up a coffee shop/bakery for everyone to come for fellowship, to relax, & enjoy a nice cup of joe and sweet treats.
      <i class="fas fa-quote-right"></i><br><br>
      ‚Äî <span style="font-family: 'Young Serif';">LAUREN VARGAS</span>
    </p>
  </div>
</section>

<section class='welcome-section d-flex flex-column justify-content-center align-items-center' id='cookies'>
  <div class='welcome-div d-flex justify-content-center align-items-center' id='cookies-instagram-grid-div'>
    <!-- Instagram grid üëá -->
    <script src='https://snapwidget.com/js/snapwidget.js'></script>
    <link rel='stylesheet' href='https://snapwidget.com/stylesheets/snapwidget-lightbox.css'>
    <script src='https://snapwidget.com/js/snapwidget-lightbox.js'></script>
    <iframe src='https://snapwidget.com/embed/635979' class='snapwidget-widget' allowtransparency='true' frameborder='0' scrolling='no' style='border: none; overflow: hidden; width: 100%;'></iframe>
  </div>
</section>

<section class='welcome-section d-flex flex-column justify-content-end align-items-center' id='order'>
  <div class='welcome-div d-flex justify-content-center align-items-center' id='order-button-div'>
    <!-- Order button üëá -->
    <%= link_to 'üç™ Order cookies', new_order_path, id: 'order-button', class: 'btn btn-lg btn-light mb-5' %>
  </div>
</section>

<section class='welcome-section d-flex flex-column justify-content-between align-items-center' id='contact'>
  <div class='welcome-div d-flex justify-content-center align-items-center' id='contact-button-div'>
    <!-- Contact button üëá -->
    <%= link_to 'üí¨ Contact me', new_message_path, id: 'contact-button', class: 'btn btn-lg btn-light mt-5' %>
  </div>

  <div class='welcome-div d-flex flex-column flex-sm-row justify-content-center align-items-center' id='contact-social-icons-div'>
    <!-- Social icons üëá -->
    <%= link_to 'https://www.instagram.com/rlvcookiesncream', class: 'contact-social-icon', target: '_blank' do %>
      <i class='fab fa-instagram fa-2x p-2'></i>
    <% end %>

    <p class='mx-3 my-1'>
      <small>
        <em>
          Website by <a href='https://www.austinratcliff.com' target='_blank'>Austin Ratcliff</a><br>
          Art by <a href='https://michaelryanmccullo.wixsite.com/mysite-1' target='_blank'>Michael McCullough</a>
        </em>
      </small>
    </p>
  </div>
</section>

<button class='btn btn-lg btn-light shadow-sm m-3 position-fixed' id='welcome-scroll-button-top'>üîù</button>

<!-- Welcome header animation on load üëá -->
<!-- <script>
  $(document).ready(function() {
    let index = 0;
    const text = "RLV Cookies 'n' Cream";

    function typeWriter() {
      if (index < text.length ) {
        $('#welcome-header').append(text.charAt(index));
        index++;
        setTimeout(typeWriter, 200);
      }
    }

    $('#welcome-header').empty();
    typeWriter();
  });
</script> -->

<!-- Welcome scroll buttons animation on click üëá -->
<script>
  $(document).ready(function() {
    $('.welcome-scroll-button').on('click', function(event) {
      event.preventDefault();

      const hash = this.hash;

      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 1000);
    });

    $('#welcome-scroll-button-top').on('click', function(event) {
      event.preventDefault();

      $('html, body').animate({
        scrollTop: $('body').offset().top
      }, 1000);
    });
  });
</script>

<!-- Button group vertical variation on load/resize üëá -->
<script>
  $(document).ready(function() {
    const $window = $(window);

    $window.bind('load resize', function() {
      if ($window.width() <= 576) {
        $('#welcome-scroll-buttons-div').addClass('btn-group-vertical');
      } else {
        $('#welcome-scroll-buttons-div').removeClass('btn-group-vertical');
      }
    });
  });
</script>

<!-- Welcome scroll button top animation on load/scroll üëá -->
<script>
  $(document).ready(function() {
    const $window = $(window);
    const $button = $('#welcome-scroll-button-top');

    $window.bind('load scroll', function() {
      const scrollTop = $window.scrollTop();

      if (scrollTop > 631) {
        $button.fadeIn('fast');
      } else {
        $button.fadeOut('fast');
      }
    });
  });
</script>

<!-- About images animation üëá -->
<script>
  const slideArea = document.querySelector('#about-images-div')
  const images = slideArea.querySelectorAll('img')

  let currentSlide = 0
  let z = 1

  slideArea.addEventListener('click', function() {
    if ($(window).width() > 768) {
      currentSlide = currentSlide + 1

      if (currentSlide > images.length - 1) {
        currentSlide = 0
      }

      z = z + 1

      images.forEach(image => {
        image.style.animation = ''
      })

      images[currentSlide].style.zIndex = z
      images[currentSlide].style.animation = 'fade 0.5s'
    }
  })

  slideArea.addEventListener('mouseover', function() {
    if ($(window).width() > 768) {
      images.forEach(image => {
        const x = 25 * Math.floor(Math.random() * 5) - 50
        const y = 25 * Math.floor(Math.random() * 5) - 50

        image.style.transform = `translate(${x}px, ${y}px)`
      })
    }
  })

  slideArea.addEventListener('mouseout', function() {
    if ($(window).width() > 768) {
      images.forEach(image => {
        image.style.transform = ''
      })
    }
  })
</script>
